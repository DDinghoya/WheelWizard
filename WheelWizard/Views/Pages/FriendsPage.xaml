<Page x:Class="CT_MKWII_WPF.Views.Pages.FriendsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="clr-namespace:CT_MKWII_WPF.Views.Pages"
      xmlns:components="clr-namespace:CT_MKWII_WPF.Views.Components"
      mc:Ignorable="d"
      d:DesignHeight="831" d:DesignWidth="444"
      Title="FriendsPage" Background="Transparent">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="{StaticResource TopRowSize}" />
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="Friends" Style="{StaticResource PageTitleText}" Margin="10"/>
        <Grid Grid.Row="0" 
              HorizontalAlignment="Right"
              Width="180" Height="60"
              Margin="0,0,10,0"
              MouseDown="Profile_click"
              MouseEnter="UIElement_OnMouseEnter"
              MouseLeave="UIElement_OnMouseLeave"
              VerticalAlignment="Center">
            

            <Border Background="{StaticResource LightBackgroundColor}" 
                    CornerRadius="10" />
            
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <StackPanel Orientation="Vertical" HorizontalAlignment="Right"
                                VerticalAlignment="Top" Margin="0,5,0,0">
                        <TextBlock HorizontalAlignment="Right"
                                   VerticalAlignment="Top"
                                   Style="{StaticResource BodyText}"
                                   x:Name="PlayerName"
                                   Text="Player Name"
                                   Margin="0,0,10,0"/>
                        <TextBlock HorizontalAlignment="Right"
                                   VerticalAlignment="Center"
                                   Style="{StaticResource TinyText}"
                                   x:Name="FriendCode"
                                   Text="1234-5678-1234"
                                   Margin="0,0,10,0"/>
                        <TextBlock HorizontalAlignment="Right"
                                   Style="{StaticResource TinyText}"
                                   x:Name="VrAndBr"
                                   Text="VR: xxxx"
                                   Margin="0,0,10,0"/>
                    </StackPanel>
                    <Border Width="60" Height="60" HorizontalAlignment="Right" Background="{StaticResource MiiIconBackground}"
                            Margin="0,0,10,0"
                            CornerRadius="30" VerticalAlignment="Center">
                        <Image x:Name="MainMii" Stretch="Uniform">
                            <Image.Clip>
                                <EllipseGeometry Center="30,30" RadiusX="30" RadiusY="30" />
                            </Image.Clip>
                        </Image>
                    </Border>
                </StackPanel>
        </Grid>
        
        <components:StaticListView Grid.Row="1" x:Name="FriendsListView"
                                   ItemsSource="{Binding FriendsList}" ListTitle="Friends"
                                   MouseDoubleClick="FriendsListView_MouseDoubleClick">
            <components:StaticListView.ItemContextMenu>
                <ContextMenu>
                    <MenuItem Header="Copy friend code" Click="CopyFriendCode_OnClick" />
                </ContextMenu>
            </components:StaticListView.ItemContextMenu>
            
            <ListView.View>
                <GridView AllowsColumnReorder="False">
                    <GridViewColumn Header="">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <Border Width="40" Height="40" Background="{StaticResource MiiIconBackground}"
                                        CornerRadius="20">
                                    <Image Source="{Binding MiiImage}" Stretch="Uniform">
                                        <Image.Clip>
                                            <EllipseGeometry Center="20,20" RadiusX="20" RadiusY="20" />
                                        </Image.Clip>
                                    </Image>
                                </Border>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="150"
                                    components:StaticListView.IsSortable="True" />
                    <GridViewColumn Header="Friend Code" DisplayMemberBinding="{Binding FriendCode}" Width="150"
                                    components:StaticListView.IsSortable="True" />
                    <!-- <GridViewColumn Header="VR" DisplayMemberBinding="{Binding Vr}" Width="80" -->
                    <!--                 components:StaticListView.IsSortable="True" /> -->
                    <GridViewColumn Header="Wins" DisplayMemberBinding="{Binding Wins}" Width="80"
                                    components:StaticListView.IsSortable="True" />
                    <GridViewColumn Header="Losses" DisplayMemberBinding="{Binding Losses}" Width="80"
                                    components:StaticListView.IsSortable="True" />
                </GridView>
            </ListView.View>
        </components:StaticListView>
    </Grid>
</Page>